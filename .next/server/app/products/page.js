(()=>{var e={};e.id=571,e.ids=[571],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},1534:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=t(260),a=t(8203),l=t(5155),n=t.n(l),i=t(7292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6648)),"/Users/gueuromaric/Documents/PROJETS/Opportune/opportune-web-site/src/app/products/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1354)),"/Users/gueuromaric/Documents/PROJETS/Opportune/opportune-web-site/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9937,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/gueuromaric/Documents/PROJETS/Opportune/opportune-web-site/src/app/products/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/products/page",pathname:"/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},518:(e,s,t)=>{Promise.resolve().then(t.bind(t,6648))},6606:(e,s,t)=>{Promise.resolve().then(t.bind(t,7540))},7540:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5512),a=t(8009),l=t(7658),n=t(632),i=t(4060),o=t(4947),c=t(3518);let d={"Gros \xe9lectrom\xe9nager":["R\xe9frig\xe9rateurs","Cong\xe9lateurs","Cave \xe0 vin","Fours","Micro-ondes","Plaques de cuisson","Hottes","Cuisine","Lave-linge","S\xe8che-linge","Lave-vaisselle","Lave-linge s\xe9chant","Climatisation","Chauffe-eau"],"Petit \xe9lectrom\xe9nager":["Robots de cuisine","Mixeurs","Blenders","Centrifugeuses","Grille-pain","Bouilloires","Friteuses","Autocuiseurs","Planchas","Machines \xe0 caf\xe9","Cafeti\xe8res","Aspirateurs","Fers \xe0 repasser","S\xe8che-cheveux","Petit \xe9lectrom\xe9nager"]},u=()=>{let[e,s]=(0,a.useState)([]),[t,u]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[h,g]=(0,a.useState)("popular"),[p,f]=(0,a.useState)("grid"),[b,j]=(0,a.useState)(1),[v,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(new Set(["Gros \xe9lectrom\xe9nager","Petit \xe9lectrom\xe9nager"])),P=(0,a.useRef)(null),k=(0,a.useMemo)(()=>{let e={};return Object.entries(d).forEach(([s,t])=>{e[s]=t.map(e=>{let s=o.v.filter(s=>s.category===e).length;return{name:e,count:s}}).sort((e,s)=>e.name.localeCompare(s.name))}),e},[]),C=(0,a.useMemo)(()=>{let e=[];return Object.values(k).forEach(s=>{e.push(...s)}),e},[k]),A=(0,a.useMemo)(()=>Array.from(new Set(o.v.map(e=>e.brand))).sort().map(e=>({name:e,count:o.v.filter(s=>s.brand===e).length})),[]),M=(0,a.useMemo)(()=>{let s=o.v;return e.length>0&&(s=s.filter(s=>e.includes(s.category))),t.length>0&&(s=s.filter(e=>t.includes(e.brand))),x.length>0&&(s=s.filter(e=>x.some(s=>Math.floor(e.rating)===s))),s="cheapest"===h?[...s].sort((e,s)=>e.currentPrice-s.currentPrice):[...s].sort((e,s)=>s.rating-e.rating)},[e,t,x,h]),S=(0,a.useMemo)(()=>Math.ceil(M.length/12),[M.length]),$=(0,a.useMemo)(()=>{let e=(b-1)*12;return M.slice(e,e+12)},[M,b]);(0,a.useEffect)(()=>{j(1)},[e,t,x,h]);let E=(0,a.useMemo)(()=>{let r=[];return e.forEach(e=>{r.push({type:"Cat\xe9gorie",value:e,onRemove:()=>s(s=>s.filter(s=>s!==e))})}),t.forEach(e=>{r.push({type:"Marque",value:e,onRemove:()=>u(s=>s.filter(s=>s!==e))})}),x.forEach(e=>{r.push({type:"Note",value:`${e} \xe9toiles`,onRemove:()=>m(s=>s.filter(s=>s!==e))})}),r},[e,t,x]);(0,a.useEffect)(()=>(v?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[v]);let O=e=>{s(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},F=e=>{u(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},R=e=>{w(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},_=e=>{j(e),setTimeout(()=>{P.current?P.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)},q=()=>(0,r.jsxs)(r.Fragment,{children:[Object.keys(k).length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cat\xe9gories"}),(0,r.jsx)("div",{className:"space-y-4",children:Object.entries(k).map(([s,t])=>{let a=N.has(s),l=t.reduce((e,s)=>e+s.count,0);return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>R(s),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:(0,r.jsxs)("div",{className:"flex gap-2 text-left",children:[(0,r.jsx)(i.A,{icon:a?"lucide:chevron-down":"lucide:chevron-right",className:"h-4 w-4 text-gray-600"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900 text-sm text-left",children:s}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",l,")"]})]})}),a&&(0,r.jsx)("div",{className:"p-2 space-y-2 bg-white",children:t.map(s=>{let t=s.count>0;return(0,r.jsxs)("label",{className:`flex items-center justify-between transition-colors group pl-6 ${t?"cursor-pointer hover:text-[#ff6b35]":"cursor-not-allowed opacity-50"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.includes(s.name),onChange:()=>t&&O(s.name),disabled:!t,className:"w-4 h-4 text-[#ff6b35] rounded border-gray-300 focus:ring-[#ff6b35] disabled:opacity-50 disabled:cursor-not-allowed"}),(0,r.jsx)("span",{className:`text-sm ${t?"text-gray-700 group-hover:text-[#ff6b35]":"text-gray-400"}`,children:s.name})]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",s.count,")"]})]},s.name)})})]},s)})})]}),A.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Marques"}),(0,r.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,r.jsxs)("label",{className:"flex items-center justify-between cursor-pointer hover:text-[#ff6b35] transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:t.includes(e.name),onChange:()=>F(e.name),className:"w-4 h-4 text-[#ff6b35] rounded border-gray-300 focus:ring-[#ff6b35]"}),(0,r.jsx)("span",{className:"text-sm text-gray-700 group-hover:text-[#ff6b35]",children:e.name})]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.count,")"]})]},e.name))})]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("section",{className:"pt-24 pb-8 min-h-screen bg-white",ref:P,children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Produits d'\xe9lectrom\xe9nager"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 border border-gray-300 rounded-lg p-1 bg-white",children:[(0,r.jsx)("button",{onClick:()=>f("grid"),className:`px-3 py-1.5 rounded transition-colors text-sm font-medium ${"grid"===p?"bg-[#ff6b35] text-white":"text-gray-700 hover:bg-gray-100"}`,"aria-label":"Vue grille",children:(0,r.jsx)(i.A,{icon:"lucide:grid",className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>f("list"),className:`px-3 py-1.5 rounded transition-colors text-sm font-medium ${"list"===p?"bg-[#ff6b35] text-white":"text-gray-700 hover:bg-gray-100"}`,"aria-label":"Vue liste",children:(0,r.jsx)(i.A,{icon:"lucide:list",className:"h-4 w-4"})})]}),(0,r.jsxs)("span",{className:"text-gray-700 font-medium text-sm",children:[M.length," Produit",M.length>1?"s":""]})]})]}),(0,r.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-4 pb-4 border-b border-gray-200",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Trier par :"}),(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"sort",value:"popular",checked:"popular"===h,onChange:()=>g("popular"),className:"w-4 h-4 text-[#ff6b35] focus:ring-[#ff6b35]"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Plus populaires"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"sort",value:"cheapest",checked:"cheapest"===h,onChange:()=>g("cheapest"),className:"w-4 h-4 text-[#ff6b35] focus:ring-[#ff6b35]"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Moins cher"})]}),(C.length>0||A.length>0)&&(0,r.jsxs)("button",{onClick:()=>y(!0),className:"lg:hidden ml-auto flex items-center gap-2 px-4 py-2 bg-[#ff6b35] text-white rounded-lg hover:bg-[#ff6b35] transition-colors font-medium text-sm","aria-label":"Ouvrir les filtres",children:[(0,r.jsx)(i.A,{icon:"lucide:filter",className:"h-4 w-4"}),"Filtres",(e.length>0||t.length>0)&&(0,r.jsx)("span",{className:"bg-white text-[#ff6b35] rounded-full px-2 py-0.5 text-xs font-bold",children:e.length+t.length})]})]}),E.length>0&&(0,r.jsxs)("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filtres appliqu\xe9s :"}),E.map((e,s)=>(0,r.jsxs)("button",{onClick:e.onRemove,className:"flex items-center gap-2 px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm hover:bg-orange-200 transition-colors font-medium",children:[e.value,(0,r.jsx)(i.A,{icon:"lucide:x",className:"h-3 w-3"})]},s))]}),(0,r.jsxs)("div",{className:"flex gap-6",children:[C.length>0||A.length>0?(0,r.jsx)("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sticky top-24",children:q()})}):null,(0,r.jsx)("main",{className:"flex-1",children:M.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid"===p?"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-6 mb-8":"space-y-4 mb-8",children:$.map(e=>(0,r.jsx)(c.A,{product:e,viewMode:p},e.id))}),S>1&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Affichage de ",(b-1)*12+1," \xe0 ",Math.min(12*b,M.length)," sur ",M.length," produit",M.length>1?"s":""]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>_(Math.max(1,b-1)),disabled:1===b,className:`px-4 py-2 rounded-lg border transition-colors text-sm font-medium ${1===b?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-[#ff6b35] hover:text-[#ff6b35]"}`,"aria-label":"Page pr\xe9c\xe9dente",children:(0,r.jsx)(i.A,{icon:"lucide:chevron-left",className:"h-4 w-4"})}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=[];if(S<=5)for(let s=1;s<=S;s++)e.push(s);else if(b<=3){for(let s=1;s<=4;s++)e.push(s);e.push("..."),e.push(S)}else if(b>=S-2){e.push(1),e.push("...");for(let s=S-3;s<=S;s++)e.push(s)}else{e.push(1),e.push("...");for(let s=b-1;s<=b+1;s++)e.push(s);e.push("..."),e.push(S)}return e})().map((e,s)=>"..."===e?(0,r.jsx)("span",{className:"px-2 text-gray-400",children:"..."},`ellipsis-${s}`):(0,r.jsx)("button",{onClick:()=>_(e),className:`px-4 py-2 rounded-lg border transition-colors text-sm font-medium min-w-[40px] ${b===e?"bg-[#ff6b35] text-white border-[#ff6b35]":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-[#ff6b35] hover:text-[#ff6b35]"}`,"aria-label":`Page ${e}`,"aria-current":b===e?"page":void 0,children:e},e))}),(0,r.jsx)("button",{onClick:()=>_(Math.min(S,b+1)),disabled:b===S,className:`px-4 py-2 rounded-lg border transition-colors text-sm font-medium ${b===S?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-[#ff6b35] hover:text-[#ff6b35]"}`,"aria-label":"Page suivante",children:(0,r.jsx)(i.A,{icon:"lucide:chevron-right",className:"h-4 w-4"})})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[(0,r.jsx)(i.A,{icon:"lucide:package",className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg mb-2",children:"Aucun produit trouv\xe9 avec ces filtres."})]})})]})]})}),v&&(C.length>0||A.length>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>y(!1)}),(0,r.jsx)("div",{className:"pt-24 fixed inset-y-0 left-0 w-80 bg-white z-50 lg:hidden shadow-xl overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Filtres"}),(0,r.jsx)("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Fermer les filtres",children:(0,r.jsx)(i.A,{icon:"lucide:x",className:"h-5 w-5 text-gray-600"})})]}),(0,r.jsx)("div",{className:"bg-white",children:q()}),(0,r.jsx)("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 border-t border-gray-200 mt-6",children:(0,r.jsx)("button",{onClick:()=>y(!1),className:"w-full bg-[#ff6b35] text-white py-3 px-6 rounded-lg hover:bg-[#ff6b35] transition-colors font-semibold",children:"Appliquer les filtres"})})]})})]}),(0,r.jsx)(n.A,{})]})}},3518:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(5512),a=t(6008),l=t(4060),n=t(4947),i=t(3988);let o=({product:e,viewMode:s="grid",productType:t="electromenager"})=>{let{addToCart:o,isInCart:c}=(0,i.B)(),d=c(e.id),u=s=>{s.preventDefault(),s.stopPropagation(),o(e)},x="other"===t?`/others/${e.id}`:`/products/${e.id}`;return"list"===s?(0,r.jsxs)("div",{className:"flex gap-4 bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[(0,r.jsxs)(a.default,{href:x,className:"flex gap-4 flex-1",children:[(0,r.jsxs)("div",{className:"relative w-48 h-48 flex-shrink-0 bg-gray-50 rounded-lg overflow-hidden",children:[e.discount>0&&(0,r.jsxs)("div",{className:"absolute top-2 left-2 z-10 bg-[#ff6b35] text-white text-xs font-bold px-2 py-1 rounded",children:["-",e.discount,"%"]}),(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-contain p-2"})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(0,n.$)(e.currentPrice)}),e.oldPrice>e.currentPrice&&(0,r.jsx)("div",{className:"text-sm text-gray-500 line-through",children:(0,n.$)(e.oldPrice)})]})})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsx)("button",{onClick:u,className:`${d?"bg-green-600 hover:bg-green-700":"bg-[#ff6b35] hover:bg-[#ff6b35]"} text-white px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2`,children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{icon:"lucide:check",className:"h-4 w-4"}),"Ajout\xe9"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{icon:"lucide:shopping-cart",className:"h-4 w-4"}),"Ajouter"]})})})]}):(0,r.jsxs)("div",{className:"group relative bg-white rounded-lg border border-gray-200 overflow-hidden transition-all duration-300 hover:shadow-lg",children:[(0,r.jsxs)(a.default,{href:x,className:"block",children:[e.discount>0&&(0,r.jsxs)("div",{className:"absolute top-3 left-3 z-10 bg-[#ff6b35] text-white text-xs font-bold px-2 py-1 rounded",children:["-",e.discount,"%"]}),(0,r.jsx)("div",{className:"relative w-full h-64 flex items-center justify-center bg-gray-50 overflow-hidden",children:(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-contain p-4 group-hover:scale-105 transition-transform duration-300"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1 line-clamp-1",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(0,n.$)(e.currentPrice)}),e.oldPrice>e.currentPrice&&(0,r.jsx)("div",{className:"text-sm text-gray-500 line-through",children:(0,n.$)(e.oldPrice)})]})]})]}),(0,r.jsx)("div",{className:"px-4 pb-4",children:(0,r.jsx)("button",{onClick:u,className:`w-full ${d?"bg-green-600 hover:bg-green-700":"bg-[#ff6b35] hover:bg-[#ff6b35]"} text-white py-2 rounded-lg transition-colors font-medium flex items-center justify-center gap-2`,children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{icon:"lucide:check",className:"h-4 w-4"}),"Ajout\xe9 au panier"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{icon:"lucide:shopping-cart",className:"h-4 w-4"}),"Ajouter au panier"]})})})]})}},6648:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/gueuromaric/Documents/PROJETS/Opportune/opportune-web-site/src/app/products/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/gueuromaric/Documents/PROJETS/Opportune/opportune-web-site/src/app/products/page.tsx","default")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[185,807,726],()=>t(1534));module.exports=r})();